# Common parameters and schemas used throughout the Legion Labs APIs.
parameters:
  space_id:
    name: space-id
    in: path
    description: The space identifier.
    required: true
    schema:
      $ref: "#/schemas/SpaceId"
  workspace_id:
    name: workspace-id
    in: path
    description: The workspace identifier.
    required: true
    schema:
      $ref: "#/schemas/WorkspaceId"
schemas:
  PermissionId:
    description: An identifier to an unique permission.
    type: string
  RoleId:
    description: An identifier to an unique role.
    type: string
  SpaceId:
    description: An identifier to an unique data space.
    type: string
  UserId:
    description: An identifier to an unique user.
    type: string
  Permission:
    type: object
    description: A permission.
    properties:
      id:
        $ref: "#/schemas/PermissionId"
      description:
        type: string
      created_at:
        type: string
        format: date-time
      parent_id:
        description: The parent permission.
        $ref: "#/schemas/PermissionId"
    required:
      - id
      - description
      - created_at
  Role:
    type: object
    description: A role.
    properties:
      id:
        $ref: "#/schemas/RoleId"
      description:
        type: string
      created_at:
        type: string
        format: date-time
      permissions:
        description: The permissions that this role has.
        type: array
        items:
          $ref: "#/schemas/PermissionId"
    required:
      - id
      - description
      - created_at
      - permissions
  Space:
    type: object
    description: A data space.
    properties:
      id:
        $ref: "#/schemas/SpaceId"
      description:
        type: string
      created_at:
        type: string
        format: date-time
      cordoned:
        description: Whether the space is cordoned.
        type: boolean
    required:
      - id
      - description
      - created_at
      - cordoned
  WorkspaceId:
    description: An identifier to a unique workspace.
    type: string
  Workspace:
    description: A workspace.
    type: object
    properties:
      id:
        $ref: "#/schemas/WorkspaceId"
      created_at:
        type: string
        format: date-time
      last_updated_at:
        type: string
        format: date-time
    required:
      - id
      - created_at
      - last_updated_at
  Session:
    description: A session.
    type: object
    properties:
      user_id:
        $ref: "#/schemas/UserId"
      workspace_id:
        $ref: "#/schemas/WorkspaceId"
      created_at:
        type: string
        format: date-time
      last_updated_at:
        type: string
        format: date-time
    required:
      - user_id
      - workspace_id
      - created_at
      - last_updated_at
  PermissionList:
    description: A list of permissions.
    type: array
    items:
      $ref: "#/schemas/Permission"
  RoleList:
    description: A list of roles.
    type: array
    items:
      $ref: "#/schemas/Role"
  SpaceList:
    description: A list of spaces.
    type: array
    items:
      $ref: "#/schemas/Space"
  WorkspaceList:
    description: A list of workspace ids.
    type: array
    items:
      $ref: "#/schemas/Workspace"
  SessionList:
    description: A list of sessions.
    type: array
    items:
      $ref: "#/schemas/Session"
