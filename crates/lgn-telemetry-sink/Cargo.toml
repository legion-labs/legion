[package]
name = "lgn-telemetry-sink"
version = "0.1.0"
edition = "2021"
license = "MIT OR Apache-2.0"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
lgn-telemetry-proto = { path = "../lgn-telemetry-proto", version = "0.1.0" }
lgn-tracing = { path = "../lgn-tracing", version = "0.1.0" }
lgn-tracing-transit = { path = "../lgn-tracing-transit", version = "0.1.0" }
lgn-online = { path = "../lgn-online", version = "0.1.0" }
lgn-config = { path = "../lgn-config", version = "0.1.0" }
anyhow = "1.0"
async-trait = "0.1"
chrono = "0.4"
console-subscriber = { version = "0.1.1", optional = true }
ctrlc = "3.2.0"
json = "0.12"
lazy_static = "1.4"
log = { version = "0.4", features = ["std"] }
once_cell = "1.7.2"
prost = "0.9"
simple_logger = "2.1"
tokio = { version = "1.13", features = ["full", "tracing"] }
tonic = "0.6"
tracing = { version = "0.1", features = [
    "release_max_level_info",
], optional = true }
tracing-subscriber = { version = "0.3.1", features = [
    "env-filter",
    "registry",
], optional = true }
uuid = { version = "0.8", features = ["v4"] }

[features]
default = []

max_level_off = ["log/max_level_off", "lgn-tracing/max_level_off"]
max_level_error = ["log/max_level_error", "lgn-tracing/max_level_error"]
max_level_warn = ["log/max_level_warn", "lgn-tracing/max_level_warn"]
max_level_info = ["log/max_level_info", "lgn-tracing/max_level_info"]
max_level_debug = ["log/max_level_debug", "lgn-tracing/max_level_debug"]
max_level_trace = ["log/max_level_trace", "lgn-tracing/max_level_trace"]

release_max_level_off = [
    "log/release_max_level_off",
    "lgn-tracing/release_max_level_off",
]
release_max_level_error = [
    "log/release_max_level_error",
    "lgn-tracing/release_max_level_error",
]
release_max_level_warn = [
    "log/release_max_level_warn",
    "lgn-tracing/release_max_level_warn",
]
release_max_level_info = [
    "log/release_max_level_info",
    "lgn-tracing/release_max_level_info",
]
release_max_level_debug = [
    "log/release_max_level_debug",
    "lgn-tracing/release_max_level_debug",
]
release_max_level_trace = [
    "log/release_max_level_trace",
    "lgn-tracing/release_max_level_trace",
]

max_lod_off = ["lgn-tracing/max_lod_off"]
max_lod_min = ["lgn-tracing/max_lod_min"]
max_lod_med = ["lgn-tracing/max_lod_med"]
max_lod_max = ["lgn-tracing/max_lod_max"]

release_max_lod_off = ["lgn-tracing/release_max_lod_off"]
release_max_lod_min = ["lgn-tracing/release_max_lod_min"]
release_max_lod_med = ["lgn-tracing/release_max_lod_med"]
release_max_lod_max = ["lgn-tracing/release_max_lod_max"]

tokio-tracing = ["tracing", "tracing-subscriber", "console-subscriber"]
